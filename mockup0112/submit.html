<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Submit Idea • CITY</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>

<header class="topbar">
  <div class="container topbar__inner">
    <a class="brand" href="./index.html" aria-label="CITY Home">
      <span class="brand__icon" aria-hidden="true">
        <svg width="26" height="26" viewBox="0 0 24 24" fill="none">
          <path d="M4 20V9a2 2 0 0 1 2-2h3v13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M9 20V5a2 2 0 0 1 2-2h7a2 2 0 0 1 2 2v15" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M2 20h20" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M13 7h2M13 10h2M13 13h2M17 7h2M17 10h2M17 13h2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </span>
      <span class="brand__text">CITY</span>
    </a>

    <nav class="nav">
      <a class="nav__link" href="./index.html" data-i18n="navTopIdeas">Top Ideas</a>
      <a class="nav__link" href="./polls.html" data-i18n="navPolls">Polls</a>
      <a class="nav__link" href="./leaderboard.html" data-i18n="navLeaderboard">Leaderboard</a>
      <a class="nav__link is-active" href="./submit.html" data-i18n="navSubmit">Submit Ideas</a>
    </nav>

    <div class="topbar__right">
      <div class="seg" role="tablist" aria-label="Role">
        <button class="seg__btn" id="roleCitizenBtn" type="button" data-i18n="roleCitizen">Citizen</button>
        <button class="seg__btn" id="roleOfficialBtn" type="button" data-i18n="roleOfficial">Official</button>
      </div>

      <button id="xpPill" class="xpPill" type="button">LV 1 • 0 XP</button>
      <button class="btn btn--ghost" id="loginBtn" type="button">Login</button>

      <select id="langSelect" class="select select--lang" aria-label="Language">
        <option value="ko">KO</option>
        <option value="en">EN</option>
      </select>
    </div>
  </div>
</header>

<main class="container page">
  <a class="back" href="./index.html" data-i18n="backToList">← Back</a>

  <section class="detailCard">
    <div class="detailHead">
      <div>
        <h1 class="detailTitle" data-i18n="submitPageTitle">Submit a New Idea</h1>
        <div class="detailMeta" data-i18n="submitPageDesc">Share an issue, propose a solution, and help improve your city.</div>
      </div>
      <span class="badge new" data-i18n="status_new">New</span>
    </div>

    <div class="divider"></div>

    <form id="submitForm" class="formGrid">
      <div class="field">
        <label class="label" for="title" data-i18n="fTitle">Title</label>
        <input class="input" id="title" maxlength="80" placeholder="e.g., Add more street lights on Main St" />
        <div class="mutedSmall" id="titleCount">0 / 80</div>
      </div>

      <div class="field">
        <label class="label" for="category" data-i18n="fCategory">Category</label>
        <select class="select" id="category">
          <option value="transportation">Transportation</option>
          <option value="infrastructure">Infrastructure</option>
          <option value="environment">Environment</option>
          <option value="public-safety">Public Safety</option>
          <option value="city-services">City Services</option>
        </select>
      </div>

      <div class="field">
        <label class="label" for="location" data-i18n="fLocation">Location (optional)</label>
        <input class="input" id="location" maxlength="80" placeholder="e.g., Downtown / Main St & 3rd Ave" />
      </div>

      <div class="field">
        <label class="label" for="tags" data-i18n="fTags">Tags (comma separated)</label>
        <input class="input" id="tags" maxlength="80" placeholder="e.g., safety, night, sidewalk" />
      </div>

      <div class="field field--full">
        <label class="label" for="desc" data-i18n="fDesc">Description</label>
        <textarea class="textarea" id="desc" rows="5" maxlength="800" placeholder="Explain the problem. What happens? Who is affected?"></textarea>
        <div class="mutedSmall" id="descCount">0 / 800</div>
      </div>

      <div class="field field--full">
        <label class="label" for="impact" data-i18n="fImpact">Expected Impact</label>
        <textarea class="textarea" id="impact" rows="3" maxlength="200" placeholder="What changes if your idea is implemented?"></textarea>
        <div class="mutedSmall" id="impactCount">0 / 200</div>
      </div>

      <div class="field field--full">
        <label class="label" for="photo" data-i18n="fPhoto">Photos (optional)</label>
        <input class="input" id="photo" type="file" accept="image/*" multiple />
        <div class="mutedSmall" data-i18n="fPhotoHint">Up to 50MB total. You can attach multiple images.</div>
        <div id="photoPreview" class="photoPreview" hidden></div>
      </div>

      <div class="divider field--full"></div>

      <div class="field field--full submitRow">
        <button class="btn" type="button" id="previewBtn" data-i18n="preview">Preview</button>
        <button class="btn btn--primary" type="submit" data-i18n="submit">Submit</button>
      </div>

      <div class="mutedSmall field--full" id="submitHint"></div>
    </form>
  </section>

  <section class="detailCard" id="previewCard" hidden style="margin-top:16px;">
    <div class="detailHead">
      <div>
        <h2 class="detailTitle" style="font-size:22px;" data-i18n="previewTitle">Preview</h2>
        <div class="detailMeta" data-i18n="previewDesc">This is how your idea will appear.</div>
      </div>
      <span class="badge review" data-i18n="status_under_review">Under Review</span>
    </div>

    <div class="divider"></div>

    <h3 class="h3" data-i18n="previewIdea">Idea</h3>
    <p class="desc" id="pTitle"></p>
    <p class="mutedSmall" id="pMeta"></p>

    <div class="divider"></div>

    <h3 class="h3" data-i18n="realWorldImpact">Real-World Impact</h3>
    <div class="impactBox">
      <div class="impactBox__title">↗ <span data-i18n="realWorldImpact">Real-World Impact</span></div>
      <p class="impactBox__text" id="pImpact"></p>
    </div>

    <div class="divider"></div>

    <h3 class="h3" data-i18n="description">Description</h3>
    <p class="desc" id="pDesc"></p>

    <div class="divider"></div>

    <div id="pPhotoWrap" hidden>
      <h3 class="h3" data-i18n="photo">Photos</h3>
      <img id="pPhoto" alt="preview" style="max-width:100%; border-radius:14px; border:1px solid var(--line); margin-top:10px;" />
    </div>
  </section>
</main>

<script src="./script.js"></script>
</body>
</html>
